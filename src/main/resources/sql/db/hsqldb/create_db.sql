--CREATE SCHEMA FOURTDB AUTHORIZATION DBA;

CREATE TABLE RESOURCE ( 
  ID   INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
  NAME VARCHAR(50) NOT NULL,
  TASK_DATE  DATE NOT NULL,
  CREATED_DATE  DATE NOT NULL,
  CREATED_BY VARCHAR(50) NOT NULL,
  UPDATED_DATE  DATE NOT NULL,
  UPDATED_BY VARCHAR(50) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE TASK_DETAIL( 
  ID   INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
  TASK_DESC VARCHAR(200) NOT NULL,
  TASK_DURATION  INTEGER NOT NULL,
  TASK_STATUS  VARCHAR(20) NOT NULL,
  RESOURCE_ID INTEGER NOT NULL CONSTRAINT RESOURCE_TASK_DETAIL_FK FOREIGN KEY REFERENCES RESOURCE(ID),
  PRIMARY KEY (ID)
);

--commit;

--GRANT ALL PRIVILEGES ON RESOURCE TO SA;
--GRANT ALL PRIVILEGES ON TASK_DETAIL TO SA;